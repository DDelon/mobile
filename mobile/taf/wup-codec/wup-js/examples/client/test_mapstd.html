<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Jce For Javascript</title>
		<script type="text/javascript" src="../lib/libutil.js"></script>
		<script type="text/javascript" src="../lib/libjce.js"></script>
		<script type="text/javascript" src="../lib/libext.js"></script>
		<link rel="stylesheet" type="text/css" href="main.css">
	</head>
	<body>
		<h1>测试Map编解码示例&nbsp;&nbsp;<font size="3" style="margin-bottom: -2px">元素类型为内置类型</font></h1>
		<pre class="pre_style" >
//Taf.Map(int8/int16/int32/int64/uint8/uint16/uint32/string, int8/int16/int32/int64/uint8/uint16/uint32/boolean/string)
function TestMapString()
{
    //声明Map类型，并且赋值
    var map = new Taf.Map(new Taf.STRING(), new Taf.STRING());
    map.put("abcd", "abcd-TestForJS");        		
    map.put("efgh", "efgh-TestForJS");

    //开始编码
    var os = new Taf.JceOutputStream();
    os.writeMap(5, map);

    //开始解码
    os.getBinBuffer().position = 0;
    var is = new Taf.JceInputStream(os.getBinBuffer());
    var mp = is.readMap(5, true, new Taf.Map(new Taf.STRING(), new Taf.STRING()));
    for (var key in mp.val)
    {
        console.log("KEY:", key, " VALUE:", map.val[key]);
    }
}
</pre>
		<script>
			function TestMapString() {
				var map = new Taf.Map(new Taf.STRING(), new Taf.STRING());
				map.put("abcd", "abcd-TestForJS");
				map.put("efgh", "efgh-TestForJS");

				//开始编码
				var os = new Taf.JceOutputStream();
				os.writeMap(5, map);

				//开始解码
				os.getBinBuffer().position = 0;
				var is = new Taf.JceInputStream(os.getBinBuffer());
				var mp = is.readMap(5, true, new Taf.Map(new Taf.STRING(), new Taf.STRING()));
				for(var key in mp.val) {
					console.log("KEY:", key, " VALUE:", map.val[key]);
				}
			}

			TestMapString();

		</script>
	</body>
</html>
